# Terraform Remote Backend Configuration
# This file is dynamically generated by GitHub Actions workflow
# For local development, copy this to backend.tf and fill in your values

terraform {
  backend "azurerm" {
    # Backend storage configuration
    resource_group_name  = "mlops-tfstate-rg"       # Resource group for state storage
    storage_account_name = "mlopstfstateXXXXX"      # Storage account (must be globally unique)
    container_name       = "tfstate"                 # Container name for state files
    key                  = "dev.tfstate"            # State file name (use dev.tfstate or prod.tfstate)
    
    # Optional: Encryption and access
    use_azuread_auth     = true                     # Use Azure AD for authentication
    # use_msi              = true                   # Use Managed Service Identity (for Azure VMs)
    # subscription_id      = "00000000-0000-0000-0000-000000000000"
    # tenant_id            = "00000000-0000-0000-0000-000000000000"
  }
}

# Note: This backend.tf file is gitignored to prevent exposing sensitive configuration
# The GitHub Actions workflow creates it dynamically using repository secrets
